(function(){function D(a){for(var d=[],f=0;f<arguments.length;f++)d.push(arguments[f]);var f=d.shift(),b;try{d.unshift(f),b=H.apply(null,d)}catch(j){b=a}y("log",{msg:b})}function y(a,d,f){if(a&&"string"===typeof a){"object"!==typeof d&&(d={});var b=(T++).toString();"function"===typeof f&&(G[b]=f);a={func:a,params:d};a[O]="call";a[A]=b;b=u.stringify(a);I.push(b);z.src=U+"://"+V}}function B(a,d){a&&"string"===typeof a&&"function"===typeof d&&(E[a]=d)}function J(a,d){if("function"===typeof E[a])E[a](d)}
function W(){s('a[href^="weixin://viewimage/"]').on("click",function(a){for(var d="",d=("string"===typeof a.target.href&&0===a.target.href.search("weixin://viewimage/")?a.target:s(a.target).parents('a[href^="weixin://viewimage/"]')[0]).href.substr(19),f=s('a[href^="weixin://viewimage/"]'),b=[],j=0;j<f.length;j++)b.push(f[j].href.substr(19));y("imagePreview",{urls:b,current:d});a.preventDefault()})}function X(){s('a[href^="weixin://readershare/"]').on("click",function(a){a.preventDefault();J("menu:share:weibo",
v.shareWeiboData||{})});s('a[href^="weixin://readertimeline/"]').on("click",function(a){a.preventDefault();J("menu:share:timeline",v.shareTimelineData||{})})}function Y(){s(window).bind("hashchange",function(){y("hashChange",{hash:window.location.hash})})}(function(a){String.prototype.trim===a&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});Array.prototype.reduce===a&&(Array.prototype.reduce=function(d){if(this===void 0||this===null)throw new TypeError;var f=
Object(this),b=f.length>>>0,j=0,k;if(typeof d!="function")throw new TypeError;if(b==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)k=arguments[1];else{do{if(j in f){k=f[j++];break}if(++j>=b)throw new TypeError;}while(1)}for(;j<b;){j in f&&(k=d.call(a,k,f[j],j,f));j++}return k})})();var s=function(){function a(c){return"[object Function]"==B.call(c)}function d(c){return c instanceof Object}function f(c){var b,F;if("[object Object]"!==B.call(c))return!1;F=a(c.constructor)&&c.constructor.prototype;
if(!F||!hasOwnProperty.call(F,"isPrototypeOf"))return!1;for(b in c);return b===i||hasOwnProperty.call(c,b)}function b(c){return c instanceof Array}function j(c){return"number"==typeof c.length}function k(c){return c.filter(function(c){return c!==i&&null!==c})}function e(c){return c.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function n(c){return c in K?K[c]:K[c]=RegExp("(^|\\s)"+c+"(\\s|$)")}function h(c,a){return a===
i?g(c):g(c).filter(a)}function o(c,b,F,l){return a(b)?b.call(c,F,l):b}function p(c,a,b){var l=c%2?a:a.parentNode;l?l.insertBefore(b,!c?a.nextSibling:1==c?l.firstChild:2==c?a:null):g(b).remove()}function r(c,a){a(c);for(var b in c.childNodes)r(c.childNodes[b],a)}var i,m,g,l,w=[],q=w.slice,x=window.document,L={},K={},s=x.defaultView.getComputedStyle,u={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},P=/^\s*<(\w+|!)[^>]*>/,C=[1,3,8,9,11],M=x.createElement("table"),
Q=x.createElement("tr"),R={tr:x.createElement("tbody"),tbody:M,thead:M,tfoot:M,td:Q,th:Q,"*":x.createElement("div")},Z=/complete|loaded|interactive/,v=/^\.([\w-]+)$/,y=/^#([\w-]+)$/,D=/^[\w-]+$/,B={}.toString,t={},z,A,E=x.createElement("div");t.matches=function(c,a){if(!c||1!==c.nodeType)return!1;var b=c.webkitMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector||c.matchesSelector;if(b)return b.call(c,a);var l;l=c.parentNode;(b=!l)&&(l=E).appendChild(c);l=~t.qsa(l,a).indexOf(c);b&&E.removeChild(c);
return l};z=function(c){return c.replace(/-+(.)?/g,function(c,a){return a?a.toUpperCase():""})};A=function(c){return c.filter(function(a,b){return c.indexOf(a)==b})};t.fragment=function(c,a){a===i&&(a=P.test(c)&&RegExp.$1);a in R||(a="*");var b=R[a];b.innerHTML=""+c;return g.each(q.call(b.childNodes),function(){b.removeChild(this)})};t.Z=function(c,a){c=c||[];c.__proto__=arguments.callee.prototype;c.selector=a||"";return c};t.isZ=function(c){return c instanceof t.Z};t.init=function(c,l){if(c){if(a(c))return g(x).ready(c);
if(t.isZ(c))return c;var d;if(b(c))d=k(c);else if(f(c))d=[g.extend({},c)],c=null;else if(0<=C.indexOf(c.nodeType)||c===window)d=[c],c=null;else if(P.test(c))d=t.fragment(c.trim(),RegExp.$1),c=null;else{if(l!==i)return g(l).find(c);d=t.qsa(x,c)}return t.Z(d,c)}return t.Z()};g=function(c,a){return t.init(c,a)};g.extend=function(c){q.call(arguments,1).forEach(function(a){for(m in a)a[m]!==i&&(c[m]=a[m])});return c};t.qsa=function(c,a){var b;return c===x&&y.test(a)?(b=c.getElementById(RegExp.$1))?[b]:
w:1!==c.nodeType&&9!==c.nodeType?w:q.call(v.test(a)?c.getElementsByClassName(RegExp.$1):D.test(a)?c.getElementsByTagName(a):c.querySelectorAll(a))};g.isFunction=a;g.isObject=d;g.isArray=b;g.isPlainObject=f;g.inArray=function(c,a,b){return w.indexOf.call(a,c,b)};g.trim=function(c){return c.trim()};g.uuid=0;g.map=function(c,a){var b,l=[],d;if(j(c))for(d=0;d<c.length;d++)b=a(c[d],d),null!=b&&l.push(b);else for(d in c)b=a(c[d],d),null!=b&&l.push(b);return 0<l.length?[].concat.apply([],l):l};g.each=function(c,
a){var b;if(j(c))for(b=0;b<c.length&&!1!==a.call(c[b],b,c[b]);b++);else for(b in c)if(!1===a.call(c[b],b,c[b]))break;return c};g.fn={forEach:w.forEach,reduce:w.reduce,push:w.push,indexOf:w.indexOf,concat:w.concat,map:function(c){return g.map(this,function(a,b){return c.call(a,b,a)})},slice:function(){return g(q.apply(this,arguments))},ready:function(c){Z.test(x.readyState)?c(g):x.addEventListener("DOMContentLoaded",function(){c(g)},!1);return this},get:function(c){return c===i?q.call(this):this[c]},
toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(c){this.forEach(function(a,b){c.call(a,b,a)});return this},filter:function(c){return g([].filter.call(this,function(a){return t.matches(a,c)}))},add:function(c,a){return g(A(this.concat(g(c,a))))},is:function(c){return 0<this.length&&t.matches(this[0],c)},not:function(c){var b=[];if(a(c)&&c.call!==i)this.each(function(a){c.call(this,
a)||b.push(this)});else{var l="string"==typeof c?this.filter(c):j(c)&&a(c.item)?q.call(c):g(c);this.forEach(function(c){0>l.indexOf(c)&&b.push(c)})}return g(b)},eq:function(c){return-1===c?this.slice(c):this.slice(c,+c+1)},first:function(){var c=this[0];return c&&!d(c)?c:g(c)},last:function(){var c=this[this.length-1];return c&&!d(c)?c:g(c)},find:function(c){var a;a=1==this.length?t.qsa(this[0],c):this.map(function(){return t.qsa(this,c)});return g(a)},closest:function(c,a){for(var b=this[0];b&&!t.matches(b,
c);)b=b!==a&&b!==x&&b.parentNode;return g(b)},parents:function(c){for(var a=[],b=this;0<b.length;)b=g.map(b,function(c){if((c=c.parentNode)&&c!==x&&0>a.indexOf(c))return a.push(c),c});return h(a,c)},parent:function(c){return h(A(this.pluck("parentNode")),c)},children:function(c){return h(this.map(function(){return q.call(this.children)}),c)},siblings:function(c){return h(this.map(function(c,a){return q.call(a.parentNode.children).filter(function(c){return c!==a})}),c)},empty:function(){return this.each(function(){this.innerHTML=
""})},pluck:function(c){return this.map(function(){return this[c]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null);if("none"==s(this,"").getPropertyValue("display")){var c=this.style,a=this.nodeName,b,l;L[a]||(b=x.createElement(a),x.body.appendChild(b),l=s(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==l&&(l="block"),L[a]=l);c.display=L[a]}})},replaceWith:function(c){return this.before(c).remove()},wrap:function(c){return this.each(function(){g(this).wrapAll(g(c)[0].cloneNode(!1))})},
wrapAll:function(c){this[0]&&(g(this[0]).before(c=g(c)),c.append(this));return this},unwrap:function(){this.parent().each(function(){g(this).replaceWith(g(this).children())});return this},clone:function(){return g(this.map(function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(c){return(c===i?"none"==this.css("display"):c)?this.show():this.hide()},prev:function(){return g(this.pluck("previousElementSibling"))},next:function(){return g(this.pluck("nextElementSibling"))},
html:function(c){return c===i?0<this.length?this[0].innerHTML:null:this.each(function(a){var b=this.innerHTML;g(this).empty().append(o(this,c,a,b))})},text:function(c){return c===i?0<this.length?this[0].textContent:null:this.each(function(){this.textContent=c})},attr:function(c,a){var b;return"string"==typeof c&&a===i?0==this.length||1!==this[0].nodeType?i:"value"==c&&"INPUT"==this[0].nodeName?this.val():!(b=this[0].getAttribute(c))&&c in this[0]?this[0][c]:b:this.each(function(b){if(1===this.nodeType)if(d(c))for(m in c)this.setAttribute(m,
c[m]);else this.setAttribute(c,o(this,a,b,this.getAttribute(c)))})},removeAttr:function(c){return this.each(function(){1===this.nodeType&&this.removeAttribute(c)})},prop:function(c,a){return a===i?this[0]?this[0][c]:i:this.each(function(b){this[c]=o(this,a,b,this[c])})},data:function(c,a){var b=this.attr("data-"+e(c),a);return null!==b?b:i},val:function(c){return c===i?0<this.length?this[0].value:i:this.each(function(a){this.value=o(this,c,a,this.value)})},offset:function(){if(0==this.length)return null;
var c=this[0].getBoundingClientRect();return{left:c.left+window.pageXOffset,top:c.top+window.pageYOffset,width:c.width,height:c.height}},css:function(c,a){if(a===i&&"string"==typeof c)return 0==this.length?i:this[0].style[z(c)]||s(this[0],"").getPropertyValue(c);var b="";for(m in c)"string"==typeof c[m]&&""==c[m]?this.each(function(){this.style.removeProperty(e(m))}):b+=e(m)+":"+("number"==typeof c[m]&&!u[e(m)]?c[m]+"px":c[m])+";";"string"==typeof c&&(""==a?this.each(function(){this.style.removeProperty(e(c))}):
b=e(c)+":"+("number"==typeof a&&!u[e(c)]?a+"px":a));return this.each(function(){this.style.cssText+=";"+b})},index:function(c){return c?this.indexOf(g(c)[0]):this.parent().children().indexOf(this[0])},hasClass:function(c){return 1>this.length?!1:n(c).test(this[0].className)},addClass:function(c){return this.each(function(a){l=[];var b=this.className;o(this,c,a,b).split(/\s+/g).forEach(function(c){g(this).hasClass(c)||l.push(c)},this);l.length&&(this.className+=(b?" ":"")+l.join(" "))})},removeClass:function(c){return this.each(function(a){if(c===
i)return this.className="";l=this.className;o(this,c,a,l).split(/\s+/g).forEach(function(c){l=l.replace(n(c)," ")});this.className=l.trim()})},toggleClass:function(c,a){return this.each(function(b){b=o(this,c,b,this.className);(a===i?!g(this).hasClass(b):a)?g(this).addClass(b):g(this).removeClass(b)})}};["width","height"].forEach(function(c){g.fn[c]=function(a){var b,l=c.replace(/./,function(c){return c[0].toUpperCase()});return a===i?this[0]==window?window["inner"+l]:this[0]==x?x.documentElement["offset"+
l]:(b=this.offset())&&b[c]:this.each(function(b){var l=g(this);l.css(c,o(this,a,b,l[c]()))})}});["after","prepend","before","append"].forEach(function(c,a){g.fn[c]=function(){var c=g.map(arguments,function(c){return d(c)?c:t.fragment(c)});if(1>c.length)return this;var b=this.length,l=1<b,f=2>a;return this.each(function(d,w){for(var e=0;e<c.length;e++){var C=c[f?c.length-e-1:e];r(C,function(c){null!=c.nodeName&&("SCRIPT"===c.nodeName.toUpperCase()&&(!c.type||"text/javascript"===c.type))&&window.eval.call(window,
c.innerHTML)});l&&d<b-1&&(C=C.cloneNode(!0));p(a,w,C)}})};g.fn[a%2?c+"To":"insert"+(a?"Before":"After")]=function(a){g(a)[c](this);return this}});t.Z.prototype=g.fn;t.camelize=z;t.uniq=A;g._WXJS=t;return g}();window._WXJS=s;"$"in window||(window.$=s);(function(a){function d(a){return a._zid||(a._zid=p++)}function f(a,f,e,g){f=b(f);if(f.ns)var h=RegExp("(?:^| )"+f.ns.replace(" "," .* ?")+"(?: |$)");return(o[d(a)]||[]).filter(function(a){return a&&(!f.e||a.e==f.e)&&(!f.ns||h.test(a.ns))&&(!e||d(a.fn)===
d(e))&&(!g||a.sel==g)})}function b(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function j(b,d,f){a.isObject(b)?a.each(b,f):b.split(/\s/).forEach(function(a){f(a,d)})}function k(l,f,e,g,h,i){var i=!!i,p=d(l),k=o[p]||(o[p]=[]);j(f,e,function(d,f){var e=h&&h(f,d),w=e||f,o=function(a){var b=w.apply(l,[a].concat(a.data));!1===b&&a.preventDefault();return b},e=a.extend(b(d),{fn:f,proxy:o,sel:g,del:e,i:k.length});k.push(e);l.addEventListener(e.e,o,i)})}function e(a,b,e,g){var h=
d(a);j(b||"",e,function(b,d){f(a,b,d,g).forEach(function(b){delete o[h][b.i];a.removeEventListener(b.e,b.proxy,!1)})})}function n(b){var d=a.extend({originalEvent:b},b);a.each(g,function(a,f){d[a]=function(){this[f]=i;return b[a].apply(b,arguments)};d[f]=m});return d}function h(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var b=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0;b.call(this)}}}var o={},p=1,r={};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents";a.event=
{add:k,remove:e};a.proxy=function(b,f){if(a.isFunction(b)){var e=function(){return b.apply(f,arguments)};e._zid=d(b);return e}if("string"==typeof f)return a.proxy(b[f],b);throw new TypeError("expected function");};a.fn.bind=function(a,b){return this.each(function(){k(this,a,b)})};a.fn.unbind=function(a,b){return this.each(function(){e(this,a,b)})};a.fn.one=function(a,b){return this.each(function(d,f){k(this,a,b,null,function(a,b){return function(){var d=a.apply(f,arguments);e(f,b,a);return d}})})};
var i=function(){return!0},m=function(){return!1},g={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(b,d,f){var e=!1;if("blur"==d||"focus"==d)a.iswebkit?d="blur"==d?"focusout":"focus"==d?"focusin":d:e=!0;return this.each(function(g,h){k(h,d,f,b,function(d){return function(f){var e,C=a(f.target).closest(b,h).get(0);if(C)return e=a.extend(n(f),{currentTarget:C,liveFired:h}),d.apply(C,[e].concat([].slice.call(arguments,
1)))}},e)})};a.fn.undelegate=function(a,b,d){return this.each(function(){e(this,b,d,a)})};a.fn.live=function(b,d){a(document.body).delegate(this.selector,b,d);return this};a.fn.die=function(b,d){a(document.body).undelegate(this.selector,b,d);return this};a.fn.on=function(b,d,f){return void 0==d||a.isFunction(d)?this.bind(b,d):this.delegate(d,b,f)};a.fn.off=function(b,d,f){return void 0==d||a.isFunction(d)?this.unbind(b,d):this.undelegate(d,b,f)};a.fn.trigger=function(b,d){"string"==typeof b&&(b=a.Event(b));
h(b);b.data=d;return this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(b)})};a.fn.triggerHandler=function(b,d){var e,h;this.each(function(g,o){e=n("string"==typeof b?a.Event(b):b);e.data=d;e.target=o;a.each(f(o,b.type||b),function(a,b){h=b.proxy(e);if(e.isImmediatePropagationStopped())return!1})});return h};"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=
function(a){return this.bind(b,a)}});["focus","blur"].forEach(function(b){a.fn[b]=function(a){if(a)this.bind(b,a);else if(this.length)try{this.get(0)[b]()}catch(d){}return this}});a.Event=function(a,b){var d=document.createEvent(r[a]||"Events"),f=!0;if(b)for(var e in b)"bubbles"==e?f=!!b[e]:d[e]=b[e];d.initEvent(a,f,!0,null,null,null,null,null,null,null,null,null,null,null,null);return d}})(s);(function(a){function d(a){var b=this.os={},d=this.browser={},k=a.match(/WebKit\/([\d.]+)/),e=a.match(/(Android)\s+([\d.]+)/),
n=a.match(/(iPad).*OS\s([\d_]+)/),h=!n&&a.match(/(iPhone\sOS)\s([\d_]+)/),o=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),p=o&&a.match(/TouchPad/),r=a.match(/Kindle\/([\d.]+)/),i=a.match(/Silk\/([\d._]+)/),m=a.match(/(BlackBerry).*Version\/([\d.]+)/);if(d.webkit=!!k)d.version=k[1];e&&(b.android=!0,b.version=e[2]);h&&(b.ios=b.iphone=!0,b.version=h[2].replace(/_/g,"."));n&&(b.ios=b.ipad=!0,b.version=n[2].replace(/_/g,"."));o&&(b.webos=!0,b.version=o[2]);p&&(b.touchpad=!0);m&&(b.blackberry=!0,b.version=m[2]);
r&&(b.kindle=!0,b.version=r[1]);i&&(d.silk=!0,d.version=i[1]);!i&&(b.android&&a.match(/Kindle Fire/))&&(d.silk=!0)}d.call(a,navigator.userAgent);a.__detect=d})(s);(function(a,d){var f="",b,j=window.document.createElement("div"),k=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,e={};a.each({Webkit:"webkit",Moz:"",O:"o",ms:"MS"},function(a,e){if(j.style[a+"TransitionProperty"]!==d)return f="-"+a.toLowerCase()+"-",b=e,!1});e[f+"transition-property"]=e[f+"transition-duration"]=
e[f+"transition-timing-function"]=e[f+"animation-name"]=e[f+"animation-duration"]="";a.fx={off:b===d&&j.style.transitionProperty===d,cssPrefix:f,transitionEnd:b?b+"TransitionEnd":"transitionend",animationEnd:b?b+"AnimationEnd":"animationend"};a.fn.animate=function(b,d,f,e){a.isObject(d)&&(f=d.easing,e=d.complete,d=d.duration);d&&(d/=1E3);return this.anim(b,d,f,e)};a.fn.anim=function(b,h,o,p){var r,i={},j,g=this,l,w=a.fx.transitionEnd;h===d&&(h=0.4);a.fx.off&&(h=0);if("string"==typeof b)i[f+"animation-name"]=
b,i[f+"animation-duration"]=h+"s",w=a.fx.animationEnd;else{for(j in b)k.test(j)?(r||(r=[]),r.push(j+"("+b[j]+")")):i[j]=b[j];r&&(i[f+"transform"]=r.join(" "));!a.fx.off&&"object"===typeof b&&(i[f+"transition-property"]=Object.keys(b).join(", "),i[f+"transition-duration"]=h+"s",i[f+"transition-timing-function"]=o||"linear")}l=function(b){if("undefined"!==typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(w,arguments.callee)}a(this).css(e);p&&p.call(this)};0<h&&this.bind(w,l);setTimeout(function(){g.css(i);
0>=h&&setTimeout(function(){g.each(function(){l.call(this)})},0)},0);return this};j=null})(s);(function(a){function d(b,d,f,e){if(b.global)return b=d||m,f=a.Event(f),a(b).trigger(f,e),!f.defaultPrevented}function f(b){b.global&&0===a.active++&&d(b,null,"ajaxStart")}function b(a,b){var f=b.context;if(!1===b.beforeSend.call(f,a,b)||!1===d(b,f,"ajaxBeforeSend",[a,b]))return!1;d(b,f,"ajaxSend",[a,b])}function j(a,b,f){var g=f.context;f.success.call(g,a,"success",b);d(f,g,"ajaxSuccess",[b,f,a]);e("success",
b,f)}function k(a,b,f,g){var h=g.context;g.error.call(h,f,b,a);d(g,h,"ajaxError",[f,g,a]);e(b,f,g)}function e(b,f,e){var g=e.context;e.complete.call(g,f,b);d(e,g,"ajaxComplete",[f,e]);e.global&&!--a.active&&d(e,null,"ajaxStop")}function n(){}function h(a){return a&&(a==y?"html":a==v?"json":q.test(a)?"script":s.test(a)&&"xml")||"text"}function o(b){i(b.data)&&(b.data=a.param(b.data));if(b.data&&(!b.type||"GET"==b.type.toUpperCase()))b.url=(b.url+"&"+b.data).replace(/[&?]{1,2}/,"?")}function p(b,d,
f,e){var g=a.isArray(d);a.each(d,function(d,h){e&&(d=f?e:e+"["+(g?"":d)+"]");!e&&g?b.add(h.name,h.value):(f?a.isArray(h):i(h))?p(b,h,f,d):b.add(d,h)})}var r=0,i=a.isObject,m=window.document,g,l,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,q=/^(?:text|application)\/javascript/i,s=/^(?:text|application)\/xml/i,v="application/json",y="text/html",A=/^\s*$/;a.active=0;a.ajaxJSONP=function(b){var d="jsonp"+ ++r,f=m.createElement("script"),g={abort:function(){a(f).remove();d in window&&(window[d]=
n);e("abort",g,b)}},h;b.error&&(f.onerror=function(){g.abort();b.error()});window[d]=function(e){clearTimeout(h);a(f).remove();delete window[d];j(e,g,b)};o(b);f.src=b.url.replace(/=\?/,"="+d);a("head").append(f);0<b.timeout&&(h=setTimeout(function(){g.abort();e("timeout",g,b)},b.timeout));return g};a.ajaxSettings={type:"GET",beforeSend:n,success:n,error:n,complete:n,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:v,
xml:"application/xml, text/xml",html:y,text:"text/plain"},crossDomain:!1,timeout:0};a.ajax=function(d){var e=a.extend({},d||{});for(g in a.ajaxSettings)void 0===e[g]&&(e[g]=a.ajaxSettings[g]);f(e);e.crossDomain||(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!=window.location.host);var i=e.dataType,d=/=\?/.test(e.url);if("jsonp"==i||d)return d||(e.url=(e.url+"&callback=?").replace(/[&?]{1,2}/,"?")),a.ajaxJSONP(e);e.url||(e.url=window.location.toString());o(e);var d=e.accepts[i],p=
{},r=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:window.location.protocol,m=a.ajaxSettings.xhr(),q;e.crossDomain||(p["X-Requested-With"]="XMLHttpRequest");d&&(p.Accept=d,-1<d.indexOf(",")&&(d=d.split(",",2)[0]),m.overrideMimeType&&m.overrideMimeType(d));if(e.contentType||e.data&&"GET"!=e.type.toUpperCase())p["Content-Type"]=e.contentType||"application/x-www-form-urlencoded";e.headers=a.extend(p,e.headers||{});m.onreadystatechange=function(){if(m.readyState==4){clearTimeout(q);var b,a=false;if(m.status>=
200&&m.status<300||m.status==304||m.status==0&&r=="file:"){i=i||h(m.getResponseHeader("content-type"));b=m.responseText;try{i=="script"?(0,eval)(b):i=="xml"?b=m.responseXML:i=="json"&&(b=A.test(b)?null:u.parse(b))}catch(d){a=d}a?k(a,"parsererror",m,e):j(b,m,e)}else k(null,"error",m,e)}};m.open(e.type,e.url,"async"in e?e.async:!0);for(l in e.headers)m.setRequestHeader(l,e.headers[l]);if(!1===b(m,e))return m.abort(),!1;0<e.timeout&&(q=setTimeout(function(){m.onreadystatechange=n;m.abort();k(null,"timeout",
m,e)},e.timeout));m.send(e.data?e.data:null);return m};a.get=function(b,d){return a.ajax({url:b,success:d})};a.post=function(b,d,e,f){a.isFunction(d)&&(f=f||e,e=d,d=null);return a.ajax({type:"POST",url:b,data:d,success:e,dataType:f})};a.getJSON=function(b,d){return a.ajax({url:b,success:d,dataType:"json"})};a.fn.load=function(b,d){if(!this.length)return this;var e=this,f=b.split(/\s/),g;1<f.length&&(b=f[0],g=f[1]);a.get(b,function(b){e.html(g?a(m.createElement("div")).html(b.replace(w,"")).find(g).html():
b);d&&d.call(e)});return this};var z=encodeURIComponent;a.param=function(b,a){var d=[];d.add=function(b,a){this.push(z(b)+"="+z(a))};p(d,b,a);return d.join("&").replace("%20","+")}})(s);(function(a){a.fn.serializeArray=function(){var d=[],f;a(Array.prototype.slice.call(this.get(0).elements)).each(function(){f=a(this);var b=f.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&(!this.disabled&&"submit"!=b&&"reset"!=b&&"button"!=b&&("radio"!=b&&"checkbox"!=b||this.checked))&&d.push({name:f.attr("name"),
value:f.val()})});return d};a.fn.serialize=function(){var a=[];this.serializeArray().forEach(function(f){a.push(encodeURIComponent(f.name)+"="+encodeURIComponent(f.value))});return a.join("&")};a.fn.submit=function(d){d?this.bind("submit",d):this.length&&(d=a.Event("submit"),this.eq(0).trigger(d),d.defaultPrevented||this.get(0).submit());return this}})(s);(function(a){function d(b,a,d,f){var p=Math.abs(b-a),k=Math.abs(d-f);return p>=k?0<b-a?"Left":"Right":0<d-f?"Up":"Down"}function f(){k=null;b.last&&
(b.el.trigger("longTap"),b={})}var b={},j,k;a(document).ready(function(){var e,n;a(document.body).bind("touchstart",function(d){e=Date.now();n=e-(b.last||e);b.el=a("tagName"in d.touches[0].target?d.touches[0].target:d.touches[0].target.parentNode);j&&clearTimeout(j);b.x1=d.touches[0].pageX;b.y1=d.touches[0].pageY;0<n&&250>=n&&(b.isDoubleTap=!0);b.last=e;k=setTimeout(f,750)}).bind("touchmove",function(a){k&&clearTimeout(k);k=null;b.x2=a.touches[0].pageX;b.y2=a.touches[0].pageY}).bind("touchend",function(){k&&
clearTimeout(k);k=null;b.isDoubleTap?(b.el.trigger("doubleTap"),b={}):b.x2&&30<Math.abs(b.x1-b.x2)||b.y2&&30<Math.abs(b.y1-b.y2)?(b.el.trigger("swipe")&&b.el.trigger("swipe"+d(b.x1,b.x2,b.y1,b.y2)),b={}):"last"in b&&(b.el.trigger("tap"),j=setTimeout(function(){j=null;b.el.trigger("singleTap");b={}},250))}).bind("touchcancel",function(){j&&clearTimeout(j);k&&clearTimeout(k);k=j=null;b={}})});"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap singleTap longTap".split(" ").forEach(function(b){a.fn[b]=
function(a){return this.bind(b,a)}})})(s);var H=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var d=function(){d.cache.hasOwnProperty(arguments[0])||(d.cache[arguments[0]]=d.parse(arguments[0]));return d.format.call(null,d.cache[arguments[0]],arguments)};d.format=function(d,b){var j=1,k=d.length,e="",n=[],h,o,p,r;for(h=0;h<k;h++)if(e=a(d[h]),"string"===e)n.push(d[h]);else if("array"===e){p=d[h];if(p[2]){e=b[j];for(o=0;o<p[2].length;o++){if(!e.hasOwnProperty(p[2][o]))throw H('[sprintf] property "%s" does not exist',
p[2][o]);e=e[p[2][o]]}}else e=p[1]?b[p[1]]:b[j++];if(/[^s]/.test(p[8])&&"number"!=a(e))throw H("[sprintf] expecting number but found %s",a(e));switch(p[8]){case "b":e=e.toString(2);break;case "c":e=String.fromCharCode(e);break;case "d":e=parseInt(e,10);break;case "e":e=p[7]?e.toExponential(p[7]):e.toExponential();break;case "f":e=p[7]?parseFloat(e).toFixed(p[7]):parseFloat(e);break;case "o":e=e.toString(8);break;case "s":e=(e=""+e)&&p[7]?e.substring(0,p[7]):e;break;case "u":e=Math.abs(e);break;case "x":e=
e.toString(16);break;case "X":e=e.toString(16).toUpperCase()}e=/[def]/.test(p[8])&&p[3]&&0<=e?"+"+e:e;o=p[4]?"0"==p[4]?"0":p[4].charAt(1):" ";r=p[6]-(""+e).length;if(p[6]){for(var i=[];0<r;i[--r]=o);o=i.join("")}else o="";n.push(p[5]?e+o:o+e)}return n.join("")};d.cache={};d.parse=function(a){for(var b=[],d=[],k=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))d.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))d.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){var k=
k|1,e=[],n=b[2],h=[];if(null!==(h=/^([a-z_][a-z_\d]*)/i.exec(n)))for(e.push(h[1]);""!==(n=n.substring(h[0].length));)if(null!==(h=/^\.([a-z_][a-z_\d]*)/i.exec(n)))e.push(h[1]);else if(null!==(h=/^\[(\d+)\]/.exec(n)))e.push(h[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=e}else k|=2;if(3===k)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";d.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return d};return d}(),u;u||(u={});(function(){function a(b){return 10>
b?"0"+b:b}function d(b){j.lastIndex=0;return j.test(b)?'"'+b.replace(j,function(b){var a=n[b];return"string"===typeof a?a:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function f(b,a){var j,i,m,g,l=k,n,q=a[b];"function"===typeof h&&(q=h.call(a,b,q));switch(typeof q){case "string":return d(q);case "number":return isFinite(q)?""+q:"null";case "boolean":case "null":return""+q;case "object":if(!q)return"null";k+=e;n=[];if("[object Array]"===Object.prototype.toString.apply(q)){g=
q.length;for(j=0;j<g;j+=1)n[j]=f(j,q)||"null";m=0===n.length?"[]":k?"[\n"+k+n.join(",\n"+k)+"\n"+l+"]":"["+n.join(",")+"]";k=l;return m}if(h&&"object"===typeof h){g=h.length;for(j=0;j<g;j+=1)"string"===typeof h[j]&&(i=h[j],(m=f(i,q))&&n.push(d(i)+(k?": ":":")+m))}else for(i in q)Object.prototype.hasOwnProperty.call(q,i)&&(m=f(i,q))&&n.push(d(i)+(k?": ":":")+m);m=0===n.length?"{}":k?"{\n"+k+n.join(",\n"+k)+"\n"+l+"}":"{"+n.join(",")+"}";k=l;return m}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=
function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k,e,n={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!==typeof u.stringify&&(u.stringify=function(b,a,d){var i;e=k="";if(typeof d==="number")for(i=0;i<d;i=i+1)e=e+" ";else typeof d==="string"&&(e=d);if((h=a)&&typeof a!=="function"&&(typeof a!=="object"||typeof a.length!=="number"))throw Error("JSON.stringify");return f("",{"":b})});"function"!==typeof u.parse&&(u.parse=function(a,d){function e(b,a){var f,h,i=b[a];if(i&&typeof i==="object")for(f in i)if(Object.prototype.hasOwnProperty.call(i,
f)){h=e(i,f);h!==void 0?i[f]=h:delete i[f]}return d.call(b,a,i)}var f,a=""+a;b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){f=eval("("+a+")");return typeof d==="function"?e({"":f},""):f}throw new SyntaxError("JSON.parse");})})();var z,I=[],
T=1E3,G={},E={},v={},U="weixin",O="__msg_type",A="__callback_id",V="dispatch_message/",S={invoke:y,call:y,on:B,env:function(a){return v[a]},log:D,_fetchQueue:function(){var a=u.stringify(I);I=[];window.JsApi&&JsApi.keep_setReturnValue&&window.JsApi.keep_setReturnValue("SCENE_FETCHQUEUE",a);return a},_handleMessageFromWeixin:function(a){switch(a[O]){case "callback":if("string"===typeof a[A]&&"function"===typeof G[a[A]]){var d=G[a[A]](a.__params);delete G[a[A]];window.JsApi&&JsApi.keep_setReturnValue&&
window.JsApi.keep_setReturnValue("SCENE_HANDLEMSGFROMWX",u.stringify(d));return u.stringify(d)}window.JsApi&&JsApi.keep_setReturnValue&&window.JsApi.keep_setReturnValue("SCENE_HANDLEMSGFROMWX",u.stringify({__err_code:"cb404"}));return u.stringify({__err_code:"cb404"});case "event":if("string"===typeof a.__event_id&&"function"===typeof E[a.__event_id])return d=E[a.__event_id](a.__params),window.JsApi&&JsApi.keep_setReturnValue&&window.JsApi.keep_setReturnValue("SCENE_HANDLEMSGFROMWX",u.stringify(d)),
u.stringify(d);window.JsApi&&JsApi.keep_setReturnValue&&window.JsApi.keep_setReturnValue("SCENE_HANDLEMSGFROMWX",u.stringify({__err_code:"ev404"}));return u.stringify({__err_code:"ev404"})}}};window.WeixinJSBridge?s.extend(window.WeixinJSBridge,S):window.WeixinJSBridge=S;var N=document;(function(a){z=a.createElement("iframe");z.id="__WeixinJSBridgeIframe";z.style.display="none";a.documentElement.appendChild(z);return z})(N);(function(){B("menu:setfont",function(a){if("function"===typeof changefont){var f=
parseInt(a.fontSize);D("set font size with changefont: %s",a.fontSize);changefont(f)}else{switch(a.fontSize){case "1":f="80%";break;case "2":f="100%";break;case "3":f="120%";break;case "4":f="140%";break;default:return}D("set font size with webkitTextSizeAdjust: %s",a.fontSize);document.getElementsByTagName("body")[0].style.webkitTextSizeAdjust=f}});var a=function(a){var f=!1,b=function(b){f||(f=!0,a(b))},j=s("img");if(0==j.length)return b();for(var k={},e=[],n=0;n<j.length;n++){var h=j[n];if(!("none"==
s(h).css("display")||"hidden"==s(h).css("visibility"))&&!k[h.src])k[h.src]=1,e.push(h)}for(var o=[],n=0;n<e.length&&100>n;n++)j=e[n],k=new Image,k.onload=function(){this.isLoaded=!0;for(var a=0,d=0;d<o.length;d++){var e=o[d];if(!e.isLoaded)break;a++;if(290<e.width&&290<e.height){b(e);break}}a==o.length&&b()},k.src=j.src,o.push(k);setTimeout(function(){for(var a=0;a<o.length;a++){var d=o[a];if(d.isLoaded&&290<d.width&&290<d.height){b(d);return}}b()},1E3)};B("menu:share:timeline",function(d){D("share timeline");
var f;"string"===typeof d.title?(f=d,y("shareTimeline",f)):(f={link:v.init_url||document.documentURI,desc:v.init_url||document.documentURI,title:document.title},a(function(a){a&&(f.img_url=a.src,f.img_width=a.width,f.img_height=a.height);y("shareTimeline",f)}))});B("menu:share:weibo",function(a){D("share weibo");y("shareWeibo","string"===typeof a.content?a:{url:v.short_url||v.init_url||document.documentURI,content:document.title+" "+(v.short_url||v.init_url||document.documentURI)})});B("menu:share:appmessage",
function(d){D("share appmessage");var f;"string"===typeof d.title?(f=d,y("sendAppMessage",f)):(f={link:v.init_url||document.documentURI,desc:v.init_url||document.documentURI,title:document.title},a(function(a){a&&(f.img_url=a.src,f.img_width=a.width,f.img_height=a.height);y("sendAppMessage",f)}))});B("sys:init",function(a){v=a;a=N.createEvent("Events");a.initEvent("WeixinJSBridgeReady");N.dispatchEvent(a)});B("sys:bridged",function(){"1"===v.webview_type&&J("menu:setfont",{fontSize:v.init_font_size});
try{W(),X(),Y()}catch(a){D("error %s",a)}})})()})();
